

\# Atelier basique : Création, gestion et observation des processus



\##  Objectifs pédagogiques



\* Créer et gérer des processus \*\*au premier plan, en arrière-plan, et persistants\*\*.

\* Utiliser `jobs`, `fg`, `bg`, `kill` de façon intelligente.

\* Introduire des outils concrets : \*\*`top`\*\* (surveillance), \*\*`nohup`\*\* (persistance), \*\*`nice`\*\* (priorités).

\* Fournir des \*\*astuces pédagogiques\*\* pour apprendre efficacement.



---



\## Étape 1 – Lancer et observer un processus simple



1\. Démarrez un processus :



&nbsp;  ```bash

&nbsp;  sleep 300 \&

&nbsp;  ```



&nbsp;  → Vous obtenez un \*\*jobspec\*\* (`\[1]`) et un \*\*PID\*\*.



2\. Vérifiez :



&nbsp;  ```bash

&nbsp;  jobs -l

&nbsp;  ps -p <PID> -o pid,ppid,cmd

&nbsp;  ```



\*\*Astuce pédagogique\*\* :

Un \*\*jobspec\*\* (`%1`) n’est valable que dans le shell courant. Un \*\*PID\*\* est global au système.



---



\## Étape 2 – Jouer avec `fg`, `bg` et `Ctrl+Z`



1\. Lancez :



&nbsp;  ```bash

&nbsp;  ping 8.8.8.8

&nbsp;  ```



&nbsp;  → Interrompez avec `Ctrl+Z` (le processus est suspendu).



2\. Remettez-le en arrière-plan :



&nbsp;  ```bash

&nbsp;  bg %1

&nbsp;  ```



3\. Ramenez-le en avant-plan :



&nbsp;  ```bash

&nbsp;  fg %1

&nbsp;  ```



\*\*Astuce pédagogique\*\* :

Utilisez `fg %+` pour le dernier job, et `fg %-` pour le précédent → navigation rapide entre jobs.



---



\## Étape 3 – Surveiller avec `top`



1\. Ouvrez `top` :



&nbsp;  ```bash

&nbsp;  top

&nbsp;  ```

2\. Tapez `c` → affiche la commande complète.

3\. Tapez `o` puis `COMMAND=ping` → filtrez uniquement sur `ping`.

4\. Tapez `k` → entrez le PID → envoyez un signal pour tuer.



\*\*Astuce pédagogique\*\* :

`top` est interactif → utilisez-le comme un \*\*radar en temps réel\*\*.



---



\## Étape 4 – Lancer un processus persistant avec `nohup`



1\. Lancez un processus résistant à la déconnexion :



&nbsp;  ```bash

&nbsp;  nohup ping 8.8.8.8 > ping.log 2>\&1 \&

&nbsp;  echo $! > ping.pid

&nbsp;  ```



&nbsp;  → Même si vous fermez la session, le processus continue.



2\. Vérifiez :



&nbsp;  ```bash

&nbsp;  tail -f ping.log

&nbsp;  ```



3\. Arrêtez-le proprement :



&nbsp;  ```bash

&nbsp;  kill -TERM $(cat ping.pid)

&nbsp;  ```



\*\*Astuce pédagogique\*\* :

Toujours rediriger la sortie (`> ping.log`) pour éviter que `nohup.out` s’encombre.



---



\## Étape 5 – Modifier la priorité avec `nice`



1\. Lancez une commande avec priorité réduite :



&nbsp;  ```bash

&nbsp;  nice -n 10 yes > /dev/null \&

&nbsp;  ```



2\. Vérifiez la priorité (`NI` dans `top`).



3\. Changez-la en cours de route :



&nbsp;  ```bash

&nbsp;  renice -n 5 -p <PID>

&nbsp;  ```



\*\*Astuce pédagogique\*\* :



\* `nice` → au lancement.

\* `renice` → en cours d’exécution.

\* Plus le \*\*nice\*\* est élevé, moins le processus a de priorité CPU.



---



\## Étape 6 – Terminaison de processus



\* Par \*\*jobspec\*\* :



&nbsp; ```bash

&nbsp; kill %1

&nbsp; ```

\* Par \*\*PID\*\* :



&nbsp; ```bash

&nbsp; kill -9 <PID>

&nbsp; ```

\* Par \*\*nom\*\* :



&nbsp; ```bash

&nbsp; pkill ping

&nbsp; killall ping

&nbsp; ```



\*\*Astuce pédagogique\*\* :

Toujours essayer `-TERM` avant `-9` (kill forcé).



---



\##  Résultats attendus



\* Vous savez lancer des processus \*\*au premier plan / arrière-plan / persistants\*\*.

\* Vous savez \*\*observer\*\* leur comportement avec `jobs`, `ps` et `top`.

\* Vous pouvez gérer leur \*\*priorité\*\* (`nice`, `renice`).

\* Vous pouvez les \*\*terminer correctement\*\* (TERM avant KILL).





