parfait ğŸ‘Œ on ouvre donc un **nouvel atelier** consacrÃ© Ã  **Docker**, toujours dans ton format pÃ©dagogique complet :  
â†’ clair, pratique, progressif, avec Ã©tapes, explications et nettoyage final.

---

# ğŸ§± Atelier 9 â€” Installation et dÃ©sinstallation de Docker sur Debian/Ubuntu

---

## ğŸ¯ Objectif

Installer proprement **Docker Engine** et ses outils (CLI, Compose),  
comprendre les fichiers installÃ©s et enfin le **dÃ©sinstaller proprement** pour remettre le systÃ¨me Ã  lâ€™Ã©tat initial.

---

## ğŸ§° PrÃ©-requis

- Debian 12 ou Ubuntu 22.04

- AccÃ¨s `sudo`

- Connexion Internet active

---

## ğŸªœ Ã‰tapes pas Ã  pas

---

### 1ï¸âƒ£ VÃ©rification prÃ©alable

```bash
lsb_release -a
sudo apt update
```

Sâ€™assurer que le systÃ¨me est Ã  jour :

```bash
sudo apt upgrade -y
```

---

### 2ï¸âƒ£ Suppression dâ€™anciennes versions (le cas Ã©chÃ©ant)

```bash
sudo apt remove -y docker docker-engine docker.io containerd runc
```

---

### 3ï¸âƒ£ Installation des dÃ©pendances

```bash
sudo apt install -y ca-certificates curl gnupg lsb-release
```

---

### 4ï¸âƒ£ Ajout de la clÃ© GPG officielle de Docker

CrÃ©er le rÃ©pertoire pour les clÃ©s :

```bash
sudo install -m 0755 -d /etc/apt/keyrings
```

TÃ©lÃ©charger la clÃ© officielle :

```bash
curl -fsSL https://download.docker.com/linux/$(. /etc/os-release && echo "$ID")/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
```

VÃ©rifier :

```bash
ls -l /etc/apt/keyrings/docker.gpg
```

---

### 5ï¸âƒ£ Ajouter le dÃ©pÃ´t Docker officiel

CrÃ©er le fichier **`/etc/apt/sources.list.d/docker.list`** :

```bash
deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/$(. /etc/os-release && echo "$ID") $(lsb_release -cs) stable
```

---

### 6ï¸âƒ£ Installation de Docker Engine

```bash
sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

---

### 7ï¸âƒ£ VÃ©rification de lâ€™installation

```bash
sudo systemctl status docker --no-pager
```

Tester un conteneur :

```bash
sudo docker run hello-world
```

> âœ… RÃ©sultat attendu :  
> â€œHello from Docker! â€¦ Your installation appears to be working correctly.â€

---

### 8ï¸âƒ£ Activer Docker au dÃ©marrage

```bash
sudo systemctl enable docker
```

---

### 9ï¸âƒ£ GÃ©rer les permissions utilisateur (optionnel)

Ajouter ton utilisateur au groupe Docker :

```bash
sudo usermod -aG docker $USER
```

Puis reconnecte-toi (ou redÃ©marre ta session) pour que la permission prenne effet.

---

### ğŸ” VÃ©rifications supplÃ©mentaires

Lister les versions :

```bash
docker --version
docker compose version
```

Lister les services :

```bash
systemctl list-units | grep docker
```

---

### ğŸ§¹ 10ï¸âƒ£ DÃ©sinstallation complÃ¨te de Docker

#### a) ArrÃªter les services

```bash
sudo systemctl stop docker docker.socket containerd
```

#### b) Supprimer les paquets

```bash
sudo apt purge -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

#### c) Supprimer les fichiers rÃ©siduels

```bash
sudo rm -rf /var/lib/docker /var/lib/containerd
sudo rm -f /etc/apt/sources.list.d/docker.list /etc/apt/keyrings/docker.gpg
sudo apt autoremove -y && sudo apt clean
```

#### d) VÃ©rification finale

```bash
which docker || echo "Docker correctement dÃ©sinstallÃ© âœ…"
```


