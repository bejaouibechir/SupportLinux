# Le Workbensh

### La connection

![image](divers\1.png)

1. `sudo mysql`

2. `CREATE USER admin IDENTIFIED BY 'test123++';`

3. `GRANT ALL PRIVILEGES ON demo.* TO admin;`

4. `FLUSH PRIVILEGES;`

5. Dans **MySQL Workbench** (sur Windows) â†’ New Connection â†’
   
   - Host: `192.168.1.16`
   
   - Port: `3306`
   
   - Username: `admin`
   
   - Password: `test123++` â†’ **Test Connection** â†’ OK

> Astuce sÃ©cu (optionnelle) : tu peux restreindre Ã  ton rÃ©seau/IP avec `CREATE USER 'admin'@'192.168.1.%' IDENTIFIED BY 'test123++';` puis `GRANT ... TO 'admin'@'192.168.1.%';`.

**c) Firewall (si UFW actif)**

```bash
sudo ufw allow from 192.168.1.0/24 to any port 3306 proto tcp
```



# ğŸ”¹ MANAGEMENT

> **Tout ce qui permet dâ€™observer et gÃ©rer le serveur au quotidien.**



![](C:\Users\DELL\Desktop\SupportLinux\13.MariaDB\divers\2.png)

### **Server Status**

Explique *lâ€™Ã©tat de santÃ© du serveur*.  
On y voit sâ€™il est actif, sa version, son uptime, et les chemins importants.  
â†’ **But : savoir si MySQL fonctionne correctement.**

### **Client Connections**

![](C:\Users\DELL\Desktop\SupportLinux\13.MariaDB\divers\3.png)

Liste les utilisateurs connectÃ©s et leurs requÃªtes.  
â†’ **But : comprendre qui utilise la base et identifier les blocages.**

### **Users and Privileges**

![](C:\Users\DELL\Desktop\SupportLinux\13.MariaDB\divers\4.png)



GÃ¨re graphiquement les comptes et leurs droits (`GRANT`, `REVOKE`).  
â†’ **But : maÃ®triser la sÃ©curitÃ© et lâ€™accÃ¨s aux donnÃ©es.**

### **Status and System Variables**

![](C:\Users\DELL\Desktop\SupportLinux\13.MariaDB\divers\5.png)

Montre les rÃ©glages internes du serveur (buffers, mÃ©moire, connexions maxâ€¦).  

 **Peut-on modifier une variable directement depuis "Status and System Variables" ?**

**Non.**  
Cette section affiche les variables **en lecture seule**.  
Elle sert Ã  **observer**, pas Ã  modifier.

Pour modifier une variable MySQL, il existe **deux mÃ©thodes correctes**, selon le type de variable.

#### Modifier une variable *dynamiquement* (sans redÃ©marrer)

Certaines variables sont <mark>dynamiques</mark>.  
Elles peuvent Ãªtre changÃ©es **temporairement** avec une simple requÃªte SQL.

#### Exemple

```bash
SET GLOBAL max_connections = 300;
```



**Explications :**

- **SET GLOBAL** â†’ change la valeur pour tous les clients

- Sâ€™applique immÃ©diatement

- **DisparaÃ®t aprÃ¨s un redÃ©marrage**  
  â†’ Donc utile pour tester.
  
  #### Modifier une variable *dÃ©finitivement* (persistante)

Pour un changement permanent, on doit la modifier dans le fichier de configuration.

ğŸ‘‰ Dans Workbench : **Administration â†’ Options File**

Câ€™est le seul endroit qui permet de changer durablement :

- mÃ©moire (`innodb_buffer_pool_size`)

- nombre de connexions

- tailles de logs

- buffers divers

Le fichier modifiÃ© est :

- `/etc/mysql/my.cnf` sous Linux

- `my.ini` sous Windows

### **Data Export / Data Import**

Outils simples pour exporter ou restaurer une base de donnÃ©es.  

![](C:\Users\DELL\Desktop\SupportLinux\13.MariaDB\divers\6.png)
**Exportation des donnÃ©es**

![](C:\Users\DELL\Desktop\SupportLinux\13.MariaDB\divers\7.png)

**Importation des donnÃ©es**

â†’ **But : apprendre Ã  sauvegarder et rÃ©importer un environnement.**

---

# ğŸ”¹ INSTANCE

> **Tout ce qui touche au serveur lui-mÃªme (comme un service systÃ¨me).**

### **Startup / Shutdown**

DÃ©marre ou arrÃªte le serveur MySQL (si installÃ© localement).  
â†’ **But pÃ©dagogique : comprendre le cycle de vie du service.**

### **Server Logs**

Montre les journaux dâ€™erreurs (crash, problÃ¨mes de configuration).  
â†’ **But pÃ©dagogique : apprendre Ã  diagnostiquer une panne MySQL.**

### **Options File**

Ã‰diteur graphique du fichier `my.cnf` / `my.ini`.  
â†’ **But pÃ©dagogique : comprendre oÃ¹ MySQL stocke sa configuration et comment lâ€™ajuster.**

---

# ğŸ”¹ PERFORMANCE

> **Tout ce qui aide Ã  analyser et optimiser la performance.**

### **Dashboard**

Graphiques en temps rÃ©el : connexions, requÃªtes, charge.  
â†’ **But pÃ©dagogique : lire lâ€™activitÃ© du serveur en un coup dâ€™Å“il.**

### **Performance Reports**

Rapports automatiques : requÃªtes lentes, index manquants, verrousâ€¦  
â†’ **But pÃ©dagogique : apprendre Ã  dÃ©tecter les problÃ¨mes de performance.**

### **Performance Schema Setup**

Activation/paramÃ©trage du module dâ€™analyse interne â€œPerformance Schemaâ€.  
â†’ **But pÃ©dagogique : comprendre comment MySQL enregistre les mÃ©triques avancÃ©es.**



# Tools â†’ Configuration

## **Backup Connectionsâ€¦**

![](C:\Users\DELL\Desktop\SupportLinux\13.MariaDB\divers\8.png)

Sauvegarde toutes les **connexions MySQL enregistrÃ©es** dans Workbench dans un fichier `.json`.

ğŸ¯ **UtilitÃ© :**

- garder ses connexions si on rÃ©installe Workbench,

- transfÃ©rer ses connexions vers un autre PC.

âš ï¸ Les mots de passe ne sont pas sauvegardÃ©s pour sÃ©curitÃ©.

---

## **Restore Connectionsâ€¦**

Restaure un fichier `.json` crÃ©Ã© avec *Backup Connections*.

ğŸ¯ **UtilitÃ© :**

- rÃ©cupÃ©rer toutes ses connexions dâ€™un coup,

- utiliser un fichier de connexions partagÃ© par un formateur ou une Ã©quipe.

## MySQL Utilities

![](C:\Users\DELL\Desktop\SupportLinux\13.MariaDB\divers\9.png)



**mysqluc (MySQL Utilities Client)** est une console interactive qui regroupe **toutes les commandes des MySQL Utilities** dans un seul environnement.

ğŸ‘‰ Au lieu dâ€™utiliser chaque outil sÃ©parÃ©ment (`mysqldiff`, `mysqlcopy`, `mysqlrpladmin`, etc.),  
tu peux les exÃ©cuter depuis **une seule interface**.

ğŸ‘‰ Câ€™est un â€œshell spÃ©cialisÃ©â€ pour les administrateurs MySQL.


Il permet de faire rapidement des opÃ©rations dâ€™administration **sans Ã©crire du SQL complexe**.

---

# ğŸ”¹ Quelques commandes simples pour la dÃ©mo

## âœ”ï¸ 1) Lister les bases dâ€™un serveur

Depuis `mysqluc` :

```
mysqldbcompare --server1=root:password@localhost
```

â†’ Compare toutes les bases ou liste leurs diffÃ©rences.

---

## âœ”ï¸ 2) VÃ©rifier la connexion Ã  un serveur MySQL

```
mysqlserverinfo root:password@localhost
```

â†’ Affiche la version, uptime, OS, plugins actifs, etc.

IdÃ©al pour commencer une dÃ©mo.

---

## âœ”ï¸ 3) Comparer deux bases (dÃ©mo simple)

Compare `db1` et `db2` :

```
mysqldiff --server1=root:password@localhost db1:db2
```

â†’ Montre les diffÃ©rences de schÃ©ma entre les deux bases.  
TrÃ¨s utilisÃ© en migration ou dev.

---

## âœ”ï¸ 4) Copier une base vers une autre

```
mysqlcopy root:password@localhost db_source:db_copie
```

â†’ CrÃ©e une duplication rapide de base.  
Parfait pour dÃ©montrer la puissance des utilities.

---

## âœ”ï¸ 5) VÃ©rifier la santÃ© dâ€™un serveur MySQL

```
mysqlserverclone --help
```

Puis :

```
mysqlserverinfo root:password@localhost
```

â†’ Affiche rÃ©sumÃ© du serveur, mÃ©moire, threads, stockage.

---

## âœ”ï¸ 6) GÃ©nÃ©rer un rapport de statut sur les tables

```
mysqlindexcheck root:password@localhost mydb
```

â†’ VÃ©rifie les index manquants ou dupliquÃ©s.
