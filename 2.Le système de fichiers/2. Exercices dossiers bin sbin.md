# bin vs sbin vs usr/bin vs usr/sbin vs usr/local/bin

# 🔹 Plan de démo enchaînée

## **Étape 1 — `/bin` vs `/sbin`**

Objectif → Montrer que **`/bin`** contient des commandes essentielles pour tous, alors que **`/sbin`** est orienté administration (souvent root).

### Démo 1.1 — Localiser et exécuter des commandes

```bash
which ls
which fdisk
```

**Résultat attendu** :

* `ls` → `/bin/ls`
* `fdisk` → `/sbin/fdisk`

➡ **Conclusion** : `/bin` = commandes utilisateur, `/sbin` = commandes d’administration.

---

### Démo 1.2 — Tester l’accès à une commande `/sbin` sans sudo

```bash
fdisk -l
```

* Si tu n’es pas root → **Permission denied**.
* Essaye avec `sudo` :

```bash
sudo fdisk -l
```

➡ **Conclusion** : `/sbin` contient des outils critiques nécessitant des privilèges élevés.

---

## **Étape 2 — Pourquoi `/usr/bin` existe alors qu’on a déjà `/bin`**

Objectif → Comprendre la **philosophie Unix** : séparer les commandes **essentielles au démarrage** des programmes utilisateurs plus complexes.

### Démo 2.1 — Identifier l’emplacement de programmes avancés

```bash
which python3
which curl
which git
```

**Résultat attendu** :

* `python3` → `/usr/bin/python3`
* `curl` → `/usr/bin/curl`
* `git` → `/usr/bin/git`

➡ **Conclusion** : `/usr/bin` = **programmes non essentiels** pour booter, mais utiles une fois le système lancé.

---

### Démo 2.2 — Simuler un mode “système minimal”

Démonstration : désactive `/usr/bin` et ne garde que `/bin`.

```bash
PATH=/bin:/sbin
ls
git --version
```

* `ls` fonctionne ✅
* `git` échoue ❌ → “command not found”
  ➡ **Conclusion** : `/bin` contient les commandes indispensables, `/usr/bin` regroupe les utilitaires avancés.

---

## **Étape 3 — `/usr/bin` vs `/usr/sbin`**

Objectif → Montrer que même logique que `/bin` vs `/sbin`, mais pour les programmes **non essentiels**.

### Démo 3.1 — Vérifier des programmes réseau ou services

```bash
which apache2
which useradd
which cron
```

**Résultat attendu** :

* `apache2` → `/usr/sbin/apache2`
* `useradd` → `/usr/sbin/useradd`
* `cron` → `/usr/sbin/cron`

➡ **Conclusion** : `/usr/sbin` regroupe des programmes administratifs **non critiques** pour le démarrage.

---

### Démo 3.2 — Essayer d’exécuter une commande `/usr/sbin` en simple user

```bash
apache2 -v
```

* Si le binaire est là mais pas configuré → **Permission denied**.
* Essaye avec :

```bash
sudo apache2 -v
```

➡ **Conclusion** : `/usr/sbin` = outils avancés pour admin, pas pour tout le monde.

---

## **Étape 4 — Pourquoi `/usr/local/bin` existe**

Objectif → Montrer où placer les **programmes personnalisés** ou **compilés manuellement** pour éviter les conflits avec les paquets du système.

### Démo 4.1 — Créer un script perso dans `/usr/local/bin`

```bash
sudo nano /usr/local/bin/hello
```

**Contenu :**

```bash
#!/usr/bin/env bash
echo "Bonjour depuis /usr/local/bin !"
```

Puis :

```bash
sudo chmod +x /usr/local/bin/hello
hello
```

**Résultat attendu** :

```
Bonjour depuis /usr/local/bin !
```

➡ **Conclusion** : les exécutables dans `/usr/local/bin` sont prioritaires sur `/usr/bin`.

---

### Démo 4.2 — Vérifier la priorité dans le `PATH`

```bash
echo $PATH
```

Tu devrais voir `/usr/local/bin` **avant** `/usr/bin`.
Testons une simulation :

```bash
sudo cp $(which git) /usr/local/bin/git
which git
```

**Résultat attendu** :

```
/usr/local/bin/git
```

➡ **Conclusion** : `/usr/local/bin` est prévu pour **surcharger** les programmes systèmes si nécessaire.

---

# 🔹 Résumé final

| Répertoire         | Contenu principal        | Utilisation              | Exemple                    |
| ------------------ | ------------------------ | ------------------------ | -------------------------- |
| **/bin**           | Commandes essentielles   | Tous utilisateurs        | `ls`, `cp`, `bash`         |
| **/sbin**          | Outils d’administration  | Root                     | `fdisk`, `reboot`          |
| **/usr/bin**       | Programmes avancés       | Tous utilisateurs        | `git`, `curl`              |
| **/usr/sbin**      | Outils admin avancés     | Root                     | `apache2`, `cron`          |
| **/usr/local/bin** | Programmes personnalisés | Tous (prend la priorité) | `hello`, binaires compilés |


