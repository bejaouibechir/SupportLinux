# Atelier complet — Déploiement & **versioning** d’une appli **Flask** avec **Ansistrano** (v1 → v2 → v3) + **rollback**

## 1) Contexte & objectif

L’objectif est de mettre en place un **cycle de déploiement versionné** (v1, v2, v3) d’une application Python **Flask** minimale en s’appuyant sur **Ansistrano** (rôles `ansistrano.deploy` et `ansistrano.rollback`).  
Vous apprendrez à :

- **Déployer** une version précise (tag git) sur un serveur Linux distant.

- **Gérer les répertoires** `releases/`, `current/`, `shared/` (style Capistrano/Ansistrano). ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

- **Automatiser** l’installation des dépendances (venv + pip) et le redémarrage du service système via les **hooks** d’Ansistrano. ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

- **Revenir en arrière (rollback)** en 1 commande, vers la version précédente ou une version précise. ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

---

## 2) Préparation de l’environnement

### 2.1. Prérequis côté **machine de déploiement** (votre poste Ansible)

- Debian/Ubuntu (ou équivalent) avec `ansible`, `git`, `ssh`.

- Rôles Ansistrano installés :

```bash
# Installe les rôles de déploiement et de rollback
ansible-galaxy install ansistrano.deploy ansistrano.rollback
# --force pour mettre à jour si besoin :
# ansible-galaxy install --force ansistrano.deploy ansistrano.rollback
```

> Ces rôles fournissent le **flux de déploiement**, le **versioning par releases** et la **commande de rollback**. ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

### 2.2. Prérequis côté **serveur cible** (une VM Linux “web”)

- Un utilisateur SSH avec sudo (ex : `deploy`).

- Paquets : `python3`, `python3-venv`, `git`, `rsync` (conseillé par Ansistrano), `systemd`. ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

- Pare-feu ouvert sur le port choisi (ici : 8000).

> Dans la suite, on suppose l’hôte `web1` joignable en SSH.

---

## 3) Exécution pas à pas (avec explications)

### 3.1. Créer le **répertoire de travail** Ansible

```bash
mkdir -p ansistrano-flask/{group_vars,host_vars,my-hooks,service,inventory,playbooks,app-src}
```

### 3.2. Créer l’application **Flask** (3 tags git : v1, v2, v3)

> On va versionner localement l’appli puis **Ansistrano (mode git)** ira chercher la **branche/tag** demandé via la variable `ansistrano_git_branch`. ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

Créer le fichier **ansistrano-flask/app-src/app.py** :

```bash
# app.py — application Flask minimale avec un endpoint /version
# Import de Flask
from flask import Flask, jsonify

# Création de l'application
app = Flask(__name__)

# Route principale : renvoie un message et la version
@app.get("/")
def home():
    return "Hello from Flask demo!"

# Route de version : utile pour vérifier le déploiement
@app.get("/version")
def version():
    return jsonify({"version": "v1"})

# Lancement local éventuel (non utilisé en prod systemd/gunicorn)
if __name__ == "__main__":
    app.run(host="0.0.0.0", port=8000)
```

Créer le fichier **ansistrano-flask/app-src/requirements.txt** :

```bash
# Liste des dépendances Python
Flask==3.0.3
gunicorn==22.0.0
```

Initialiser git + **tag v1** :

```bash
cd ansistrano-flask/app-src
git init
git add .
git commit -m "feat: v1 initial"
git tag v1
```

Créer la **v2** (message différent + version retournée) :

```bash
# Modifier app.py pour afficher v2
sed -i 's/Hello from Flask demo!/Hello from Flask demo v2!/' app.py
sed -i 's/"v1"/"v2"/' app.py
git add app.py
git commit -m "feat: v2"
git tag v2
```

Créer la **v3** (encore un changement simple) :

```bash
sed -i 's/Hello from Flask demo v2!/Hello from Flask demo v3 (with a tiny change)!/' app.py
sed -i 's/"v2"/"v3"/' app.py
git add app.py
git commit -m "feat: v3"
git tag v3
cd ../..
```

### 3.3. Inventaire Ansible

Créer le fichier **ansistrano-flask/inventory/hosts.ini** :

```bash
# Groupe "web" avec un seul hôte "web1"
[web]
web1 ansible_host=VOTRE_IP ansible_user=deploy
```

### 3.4. Variables communes au déploiement

Créer le fichier **ansistrano-flask/group_vars/web.yml** :

```bash
# Répertoire racine d'Ansistrano sur le serveur
ansistrano_deploy_to: "/opt/flask-demo"          # Base du déploiement (contiendra releases/, current/, shared/)
ansistrano_keep_releases: 5                      # Conserver les 5 derniers déploiements
ansistrano_shared_paths: ["venv"]                # Répertoire venv partagé entre versions
ansistrano_deploy_via: "git"                     # Stratégie de déploiement via GIT (Ansistrano le supporte nativement)
ansistrano_git_repo: "{{ lookup('pipe', 'cd app-src && git rev-parse --show-toplevel && pwd') | default(playbook_dir ~ '/app-src', true) }}"
# ↑ Pour un atelier local : on pointera sur le dépôt git local via "file://" ci-dessous.
# Le plus simple : convertir en URL file:// absolue du dépôt .git
ansistrano_git_repo: "file://{{ (playbook_dir ~ '/app-src/.git') | realpath }}"
ansistrano_git_branch: "v1"                      # Version par défaut à déployer (tag v1 au départ). On changera à l'exécution.
ansistrano_current_via: "symlink"                # Lien symbolique "current" vers la release active (comportement standard)  :contentReference[oaicite:6]{index=6}

# Hooks (fichiers de tâches personnalisées exécutées aux étapes clés du flux Ansistrano)
ansistrano_after_symlink_tasks_file: "{{ playbook_dir }}/my-hooks/after-symlink.yml"  # Installer deps + (re)démarrer le service
```

> Les variables **officielles** (`ansistrano_deploy_to`, `ansistrano_keep_releases`, `ansistrano_shared_paths`, `ansistrano_deploy_via`, `ansistrano_git_repo`, `ansistrano_git_branch`, `ansistrano_current_via`) sont documentées dans le README d’Ansistrano. ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

### 3.5. Playbook de **déploiement**

Créer le fichier **ansistrano-flask/playbooks/deploy.yml** :

```bash
# Playbook de déploiement — inclut le rôle ansistrano.deploy
- name: Deploy Flask demo with Ansistrano
  hosts: web
  become: yes

  vars:
    # On peut surcharger ansistrano_git_branch via -e "ansistrano_git_branch=v2"
    # pour déployer v1/v2/v3 à la demande.

  pre_tasks:
    - name: Install OS packages needed for Python app
      # Installe python3-venv, git, rsync, utile au déploiement git + venv
      apt:
        name:
          - python3
          - python3-venv
          - git
          - rsync
        state: present
        update_cache: yes

    - name: Create base directory with proper owner
      # Garantit l'existence du répertoire de base (défini dans ansistrano_deploy_to)
      file:
        path: "{{ ansistrano_deploy_to }}"
        state: directory
        owner: "{{ ansible_user | default('deploy') }}"
        group: "{{ ansible_user | default('deploy') }}"
        mode: "0755"

  roles:
    - role: ansistrano.deploy   # Rôle officiel qui orchestre le flux setup/update-code/symlink/cleanup
```

> `ansistrano.deploy` crée la structure **releases/shared/current**, récupère le code (ici via **git**), puis bascule `current` vers la nouvelle release. ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

### 3.6. Hook **after-symlink** : venv + gunicorn + (re)start service

Créer le fichier **ansistrano-flask/my-hooks/after-symlink.yml** :

```bash
# Hook exécuté après la bascule du symlink "current" vers la nouvelle release.
# Objectif : créer/mettre à jour le venv, installer les deps, (re)démarrer le service systemd.

- name: Ensure shared venv directory exists
  # Nous utilisons le répertoire "shared/venv" pour préserver l'environnement entre releases
  file:
    path: "{{ ansistrano_shared_path }}/venv"
    state: directory

- name: Create virtualenv if missing
  # Crée le venv une fois pour toutes (dans shared/venv)
  command: "python3 -m venv {{ ansistrano_shared_path }}/venv"
  args:
    creates: "{{ ansistrano_shared_path }}/venv/bin/activate"

- name: Install requirements inside venv
  # Installe/Met à jour les dépendances depuis le code de la release active
  command: >
    {{ ansistrano_shared_path }}/venv/bin/pip install -r {{ ansistrano_release_path.stdout }}/requirements.txt

- name: Install/Refresh systemd unit for gunicorn
  # Déploie le fichier d'unité systemd qui lance gunicorn sur la release courante
  template:
    src: "{{ playbook_dir }}/../service/flask-demo.service.j2"
    dest: /etc/systemd/system/flask-demo.service
    mode: "0644"

- name: Reload systemd daemon
  # Recharge la configuration systemd (nouvelle/maJ unité)
  command: systemctl daemon-reload

- name: Enable and restart service
  # Active au boot + redémarre pour prendre la nouvelle release
  service:
    name: flask-demo
    state: restarted
    enabled: true
```

### 3.7. Unité **systemd** pour gunicorn

Créer le fichier **ansistrano-flask/service/flask-demo.service.j2** :

```bash
# Unité systemd — lance gunicorn depuis la release "current"
# Commentaires détaillés pour pédagogie

[Unit]
Description=Flask demo served by gunicorn
After=network.target

[Service]
# Lancement dans le venv partagé (persistant)
Environment="PATH={{ ansistrano_shared_path }}/venv/bin"
# Répertoire de travail : la release active via le lien "current"
WorkingDirectory={{ ansistrano_deploy_to }}/current
# Commande gunicorn :
#  - wsgi:app   -> module wsgi.py exposant "app" OU app:app si pas de module
#  Ici, nous démarons directement "app:app" du fichier app.py
ExecStart={{ ansistrano_shared_path }}/venv/bin/gunicorn -w 2 -b 0.0.0.0:8000 app:app
# Politique de redémarrage pour robustesse
Restart=on-failure
RestartSec=5

[Install]
WantedBy=multi-user.target
```

> Rappel : Ansistrano expose dans les hooks des variables pratiques (ex.: `ansistrano_release_path`, `ansistrano_shared_path`). On les utilise ci-dessus. ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

---

## 4) Vérifications / Résultats attendus

### 4.1. **Premier déploiement** (v1)

```bash
# Lancer le déploiement par défaut (group_vars: ansistrano_git_branch=v1)
ansible-playbook -i inventory/hosts.ini playbooks/deploy.yml
```

**Attendu côté serveur** (structure Ansistrano) :

```
/opt/flask-demo/
├── current -> /opt/flask-demo/releases/20251022080000/   # (exemple: timestamp UTC)
├── releases/
│   └── 20251022080000/                                   # code v1
└── shared/
    └── venv/                                             # venv persistant
```

> C’est exactement l’**anatomie d’un déploiement Ansistrano** (releases + symlink current + shared). ([symfonycasts.com](https://symfonycasts.com/screencast/ansistrano/ansistrano-deploy?utm_source=chatgpt.com "Anatomy of an Ansistrano Deploy"))

**Tester l’appli :**

```bash
curl http://VOTRE_IP:8000/
# Résultat attendu : Hello from Flask demo!

curl http://VOTRE_IP:8000/version
# Résultat attendu : {"version":"v1"}
```

### 4.2. **Déployer v2** puis **v3**

```bash
# Déployer v2 en surchargeant la variable de branche/tag git
ansible-playbook -i inventory/hosts.ini playbooks/deploy.yml -e "ansistrano_git_branch=v2"

curl http://VOTRE_IP:8000/
# Attendu : Hello from Flask demo v2!
curl http://VOTRE_IP:8000/version
# Attendu : {"version":"v2"}

# Déployer ensuite v3
ansible-playbook -i inventory/hosts.ini playbooks/deploy.yml -e "ansistrano_git_branch=v3"

curl http://VOTRE_IP:8000/
# Attendu : Hello from Flask demo v3 (with a tiny change)!
curl http://VOTRE_IP:8000/version
# Attendu : {"version":"v3"}
```

**Contrôler le service :**

```bash
# Le service doit être actif et écouter sur 8000
systemctl status flask-demo
ss -lntp | grep 8000
```

---

## 5) **Rollback** (retour à la version précédente ou ciblée)

Ansistrano fournit un rôle dédié **ansistrano.rollback**.

- **Sans préciser** de version, il remet le lien `current` vers la **release précédente**.

- **Avec `ansistrano_rollback_to_release`**, vous ciblez une **release précise** (un timestamp présent dans `releases/`). ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

### 5.1. Playbook de rollback

Créer le fichier **ansistrano-flask/playbooks/rollback.yml** :

```bash
# Playbook de rollback — inclut le rôle ansistrano.rollback
- name: Rollback Flask demo with Ansistrano
  hosts: web
  become: yes

  vars:
    # ansistrano_deploy_to est requis pour pointer l'arborescence à gérer
    ansistrano_deploy_to: "/opt/flask-demo"
    # Optionnel : cibler une release précise (timestamp). Sinon, rollback vers la précédente.
    # ansistrano_rollback_to_release: "20251022080000"

  roles:
    - role: ansistrano.rollback  # Rôle officiel de rollback (bascule simplement le symlink "current")
```

> Le rollback **ne supprime pas** nécessairement la release ; on peut choisir de **conserver** celle qui a été “rejetée” pour inspection (voir `ansistrano_remove_rolled_back`). ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

### 5.2. Exécuter un rollback “simple” (à la précédente)

```bash
ansible-playbook -i inventory/hosts.ini playbooks/rollback.yml
curl http://VOTRE_IP:8000/version
# Attendu : on repasse de {"version":"v3"} à {"version":"v2"} (ou v1 selon l'historique)
```

### 5.3. Rollback “ciblé” (sur un timestamp spécifique)

1. **Lister** les releases existantes :

```bash
ls -1 /opt/flask-demo/releases/
# Exemple :
# 20251022080000
# 20251022090030
# 20251022101512
```

2. **Revenir** explicitement sur `20251022090030` :

```bash
ansible-playbook -i inventory/hosts.ini playbooks/rollback.yml -e "ansistrano_rollback_to_release=20251022090030"
curl http://VOTRE_IP:8000/version
# Attendu : version correspondant à ce déploiement (v2 par ex.)
```

---

## 6) Nettoyage / rollback d’atelier

- **Désactiver** et **arrêter** le service :

```bash
sudo systemctl disable --now flask-demo
```

- **Supprimer** l’arborescence d’essai :

```bash
sudo rm -rf /opt/flask-demo
```

- **Purger** les paquets ajoutés (optionnel, si VM dédiée à l’atelier) :

```bash
sudo apt remove -y rsync git python3-venv && sudo apt autoremove -y
```

---

## 7) Conseils & pièges

- **Stratégie de déploiement** : Ansistrano supporte `git`, `rsync`, `copy`, `download`, `s3`, etc. Choisissez **git** quand vous versionnez vos releases par **tags/branches** ; utilisez `rsync` pour pousser un **build local**. ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

- **Shared paths/files** : placez le **venv** ou les **uploads** dans `shared/` puis symlinkez. On évite ainsi de réinstaller le monde à chaque release. ([symfonycasts.com](https://symfonycasts.com/screencast/ansistrano/shared-optimizations?utm_source=chatgpt.com "Faster Deploy with Shared Files"))

- **Hooks** : `before/after-setup`, `before/after-update-code`, `before/after-symlink`, `before/after-cleanup` permettent d’insérer vos étapes (migrations DB, warmup cache, redémarrage service). ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

- **Rollback** : il **change seulement** le lien `current` (et peut supprimer ou garder la release “rollbackée” selon variables). Assurez-vous que vos hooks **after-symlink** redémarrent proprement votre stack. ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

- **Clés privées & dépôts privés** : si votre dépôt **git** est privé, configurez une **clé de déploiement** et indiquez `ansistrano_git_identity_key_*`. ([symfonycasts.com](https://symfonycasts.com/screencast/ansistrano/deploy-keys?utm_source=chatgpt.com "Deploying Keys & Private Repos"))

---

# Récapitulatif des fichiers créés (tous commentés)

Créer le fichier **ansistrano-flask/inventory/hosts.ini** :

```bash
[web]
web1 ansible_host=VOTRE_IP ansible_user=deploy
```

Créer le fichier **ansistrano-flask/group_vars/web.yml** :

```bash
ansistrano_deploy_to: "/opt/flask-demo"
ansistrano_keep_releases: 5
ansistrano_shared_paths: ["venv"]
ansistrano_deploy_via: "git"
ansistrano_git_repo: "file://{{ (playbook_dir ~ '/app-src/.git') | realpath }}"
ansistrano_git_branch: "v1"
ansistrano_current_via: "symlink"

ansistrano_after_symlink_tasks_file: "{{ playbook_dir }}/my-hooks/after-symlink.yml"
```

Créer le fichier **ansistrano-flask/playbooks/deploy.yml** :

```bash
- name: Deploy Flask demo with Ansistrano
  hosts: web
  become: yes

  pre_tasks:
    - name: Install OS packages needed for Python app
      apt:
        name: [python3, python3-venv, git, rsync]
        state: present
        update_cache: yes

    - name: Create base directory with proper owner
      file:
        path: "{{ ansistrano_deploy_to }}"
        state: directory
        owner: "{{ ansible_user | default('deploy') }}"
        group: "{{ ansible_user | default('deploy') }}"
        mode: "0755"

  roles:
    - role: ansistrano.deploy
```

Créer le fichier **ansistrano-flask/my-hooks/after-symlink.yml** :

```bash
- name: Ensure shared venv directory exists
  file:
    path: "{{ ansistrano_shared_path }}/venv"
    state: directory

- name: Create virtualenv if missing
  command: "python3 -m venv {{ ansistrano_shared_path }}/venv"
  args:
    creates: "{{ ansistrano_shared_path }}/venv/bin/activate"

- name: Install requirements inside venv
  command: >
    {{ ansistrano_shared_path }}/venv/bin/pip install -r {{ ansistrano_release_path.stdout }}/requirements.txt

- name: Install/Refresh systemd unit for gunicorn
  template:
    src: "{{ playbook_dir }}/../service/flask-demo.service.j2"
    dest: /etc/systemd/system/flask-demo.service
    mode: "0644"

- name: Reload systemd daemon
  command: systemctl daemon-reload

- name: Enable and restart service
  service:
    name: flask-demo
    state: restarted
    enabled: true
```

Créer le fichier **ansistrano-flask/service/flask-demo.service.j2** :

```bash
[Unit]
Description=Flask demo served by gunicorn
After=network.target

[Service]
Environment="PATH={{ ansistrano_shared_path }}/venv/bin"
WorkingDirectory={{ ansistrano_deploy_to }}/current
ExecStart={{ ansistrano_shared_path }}/venv/bin/gunicorn -w 2 -b 0.0.0.0:8000 app:app
Restart=on-failure
RestartSec=5

[Install]
WantedBy=multi-user.target
```

Créer le fichier **ansistrano-flask/playbooks/rollback.yml** :

```bash
- name: Rollback Flask demo with Ansistrano
  hosts: web
  become: yes

  vars:
    ansistrano_deploy_to: "/opt/flask-demo"
    # ansistrano_rollback_to_release: "TIMESTAMP_OPTIONNEL"

  roles:
    - role: ansistrano.rollback
```

Créer le fichier **ansistrano-flask/app-src/app.py** :

```bash
from flask import Flask, jsonify
app = Flask(__name__)

@app.get("/")
def home():
    return "Hello from Flask demo!"

@app.get("/version")
def version():
    return jsonify({"version": "v1"})

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=8000)
```

Créer le fichier **ansistrano-flask/app-src/requirements.txt** :

```bash
Flask==3.0.3
gunicorn==22.0.0
```

---

## Exécution **résumée** (ce que vous tapez)

```bash
# 1) Préparer les 3 tags
cd ansistrano-flask/app-src
git init && git add . && git commit -m "feat: v1 initial" && git tag v1
sed -i 's/Flask demo!/Flask demo v2!/' app.py && sed -i 's/"v1"/"v2"/' app.py
git add app.py && git commit -m "feat: v2" && git tag v2
sed -i 's/v2!/v3 (with a tiny change)!/' app.py && sed -i 's/"v2"/"v3"/' app.py
git add app.py && git commit -m "feat: v3" && git tag v3
cd ../..

# 2) Déployer v1
ansible-playbook -i inventory/hosts.ini playbooks/deploy.yml
curl http://VOTRE_IP:8000/version     # -> {"version":"v1"}

# 3) Déployer v2
ansible-playbook -i inventory/hosts.ini playbooks/deploy.yml -e "ansistrano_git_branch=v2"
curl http://VOTRE_IP:8000/version     # -> {"version":"v2"}

# 4) Déployer v3
ansible-playbook -i inventory/hosts.ini playbooks/deploy.yml -e "ansistrano_git_branch=v3"
curl http://VOTRE_IP:8000/version     # -> {"version":"v3"}

# 5) Rollback (à la précédente)
ansible-playbook -i inventory/hosts.ini playbooks/rollback.yml
curl http://VOTRE_IP:8000/version     # -> {"version":"v2"} (par ex.)

# 6) Rollback ciblé
ls -1 /opt/flask-demo/releases/
ansible-playbook -i inventory/hosts.ini playbooks/rollback.yml -e "ansistrano_rollback_to_release=TIMESTAMP"
```

---

### Références clés

- README officiel **ansistrano/deploy** (variables, stratégies, hooks, structure releases/current/shared, commande de rollback). ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

- Page **Ansistrano** (présentation, déploiement & rollback). ([Ansistrano](https://ansistrano.com/?utm_source=chatgpt.com "Ansistrano"))

- Variables **git** (`ansistrano_deploy_via: git`, `ansistrano_git_repo`, `ansistrano_git_branch`, clés d’accès privées). ([GitHub](https://github.com/ansistrano/deploy "GitHub - ansistrano/deploy: Ansible role to deploy scripting applications like PHP, Python, Ruby, etc. in a capistrano style"))

- Anatomie du déploiement (répertoires et symlink `current`). ([symfonycasts.com](https://symfonycasts.com/screencast/ansistrano/ansistrano-deploy?utm_source=chatgpt.com "Anatomy of an Ansistrano Deploy"))


