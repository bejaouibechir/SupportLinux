# üìÇ Th√®me 2 : Gestion des fichiers et r√©pertoires


---



\### \*\*Exercice 1 : Cr√©er une arborescence projet\*\*



\*\*√ânonc√© :\*\* Cr√©ez un dossier `projet\_web` avec 3 sous-dossiers : `html`, `css`, `js`.

\*\*D√©marche :\*\*



```bash

mkdir -p projet\_web/{html,css,js}

tree projet\_web   # si install√©

```



\*\*R√©sultat attendu :\*\*



```

projet\_web/

&nbsp;‚îú‚îÄ‚îÄ css

&nbsp;‚îú‚îÄ‚îÄ html

&nbsp;‚îî‚îÄ‚îÄ js

```



\*\*Astuce :\*\* `-p` √©vite les erreurs si le dossier existe.

\*\*Pi√®ge :\*\* oublier les accolades ‚Üí cr√©e un seul dossier.



---



\### \*\*Exercice 2 : Copier un r√©pertoire complet\*\*



\*\*√ânonc√© :\*\* Copiez `projet\_web` vers `/tmp` en gardant toute la structure.

\*\*D√©marche :\*\*



```bash

cp -r projet\_web /tmp/

```



\*\*Astuce :\*\* `-r` est obligatoire pour les dossiers.

\*\*Pi√®ge :\*\* oublier `-r` ‚Üí erreur ‚Äúomitting directory‚Äù.



---



\### \*\*Exercice 3 : D√©placer et renommer\*\*



\*\*√ânonc√© :\*\* D√©placez `/tmp/projet\_web` vers votre `~/Documents` et renommez-le en `site1`.

\*\*D√©marche :\*\*



```bash

mv /tmp/projet\_web ~/Documents/site1

```



\*\*Astuce :\*\* `mv` sert √† la fois pour renommer et d√©placer.

\*\*Pi√®ge :\*\* √©crasement silencieux si le nom existe d√©j√†.



---



\### \*\*Exercice 4 : Supprimer avec pr√©caution\*\*



\*\*√ânonc√© :\*\* Supprimez un dossier `site1` test.

\*\*D√©marche :\*\*



```bash

rm -r ~/Documents/site1

```



\*\*Astuce :\*\* utilisez `-i` (interactif) pour confirmer avant chaque fichier.

\*\*Pi√®ge :\*\* `rm -rf /` est destructeur ‚Üí \*\*NE JAMAIS\*\* tester.



---



\### \*\*Exercice 5 : Lister avec d√©tails\*\*



\*\*√ânonc√© :\*\* Affichez tous les fichiers, y compris cach√©s, avec d√©tails.

\*\*D√©marche :\*\*



```bash

ls -la ~/Documents

```



\*\*Astuce :\*\* `-h` pour tailles lisibles (K, M).

\*\*Pi√®ge :\*\* beaucoup oublient que `.` et `..` apparaissent aussi.



---



\### \*\*Exercice 6 : V√©rifier la taille d‚Äôun dossier\*\*



\*\*√ânonc√© :\*\* Calculez la taille du dossier `/var/log`.

\*\*D√©marche :\*\*



```bash

du -sh /var/log

```



\*\*Astuce :\*\* `-s` pour r√©sum√©, `-h` pour lisible.

\*\*Pi√®ge :\*\* sans `-s` ‚Üí trop de d√©tails.



---



\### \*\*Exercice 7 : Localiser un fichier syst√®me\*\*



\*\*√ânonc√© :\*\* Trouvez o√π est stock√©e la commande `ls`.

\*\*D√©marche :\*\*



```bash

which ls

whereis ls

```



\*\*R√©sultat attendu :\*\* `/bin/ls`.

\*\*Astuce :\*\* `type -a ls` montre toutes les occurrences.

\*\*Pi√®ge :\*\* alias vs vrai binaire ‚Üí v√©rifier avec `which`.



---



\### \*\*Exercice 8 : Cr√©er et explorer un fichier sp√©cial\*\*



\*\*√ânonc√© :\*\* Cr√©ez un fichier vide `notes.txt` et affichez ses infos.

\*\*D√©marche :\*\*



```bash

touch notes.txt

stat notes.txt

```



\*\*Astuce :\*\* `stat` donne taille, permissions, date.

\*\*Pi√®ge :\*\* `touch` met √† jour la date m√™me si le fichier existe.



---



\### \*\*Exercice 9 : Chercher un fichier par nom\*\*



\*\*√ânonc√© :\*\* Recherchez `passwd` dans `/etc`.

\*\*D√©marche :\*\*



```bash

find /etc -name "passwd"

```



\*\*Astuce :\*\* utilisez `-type f` pour cibler uniquement fichiers.

\*\*Pi√®ge :\*\* recherche trop large ‚Üí privil√©gier des r√©pertoires pr√©cis.



---



\### \*\*Exercice 10 : Chercher par contenu\*\*



\*\*√ânonc√© :\*\* Trouvez les fichiers contenant ‚Äúroot‚Äù dans `/etc`.

\*\*D√©marche :\*\*



```bash

grep -R "root" /etc

```



\*\*Astuce :\*\* `-n` affiche les num√©ros de lignes.

\*\*Pi√®ge :\*\* sans `sudo` certains fichiers sont inaccessibles.



---



\### \*\*Exercice 11 : Suivre un fichier en direct\*\*



\*\*√ânonc√© :\*\* Observez en temps r√©el les ajouts √† `/var/log/syslog`.

\*\*D√©marche :\*\*



```bash

tail -f /var/log/syslog

```



\*\*Astuce :\*\* tr√®s utile pour d√©boguer.

\*\*Pi√®ge :\*\* ne jamais utiliser sur des logs √©normes sans filtre (`grep`).



---



\### \*\*Exercice 12 : Cr√©er un lien symbolique\*\*



\*\*√ânonc√© :\*\* Faites un lien `monpasswd` pointant vers `/etc/passwd`.

\*\*D√©marche :\*\*



```bash

ln -s /etc/passwd ~/monpasswd

```



\*\*Astuce :\*\* `ls -l` montre la fl√®che du lien.

\*\*Pi√®ge :\*\* si la cible change de place, le lien devient cass√©.



---



\### \*\*Exercice 13 : Cr√©er un lien physique\*\*



\*\*√ânonc√© :\*\* Cr√©ez un hard link de `notes.txt` nomm√© `copie\_notes`.

\*\*D√©marche :\*\*



```bash

ln notes.txt copie\_notes

ls -li notes.txt copie\_notes

```



\*\*R√©sultat attendu :\*\* m√™me inode.

\*\*Astuce :\*\* hard links ‚â† copies ‚Üí ils pointent vers le m√™me contenu.

\*\*Pi√®ge :\*\* impossible sur r√©pertoires ou syst√®mes diff√©rents.



---



\### \*\*Exercice 14 : Lister les 10 plus gros fichiers\*\*



\*\*√ânonc√© :\*\* Trouvez les 10 fichiers les plus lourds dans `/var/log`.

\*\*D√©marche :\*\*



```bash

du -ah /var/log | sort -rh | head -n 10

```



\*\*Astuce :\*\* `sort -rh` trie en taille humaine, du plus grand au plus petit.

\*\*Pi√®ge :\*\* attention aux temps d‚Äôex√©cution sur de gros dossiers.



---



\### \*\*Exercice 15 : D√©fi pratique\*\*



\*\*√ânonc√© :\*\* √âcrivez une commande qui :



1\. Cr√©e un dossier `backup`,

2\. Copie tous les fichiers `.conf` de `/etc` dedans,

3\. Liste combien de fichiers ont √©t√© copi√©s.

&nbsp;  \*\*D√©marche :\*\*



```bash

mkdir ~/backup

cp /etc/\*.conf ~/backup/

ls ~/backup | wc -l

```



\*\*R√©sultat attendu :\*\* Nombre de fichiers `.conf` copi√©s.

\*\*Astuce :\*\* les jokers `\*` sont vos amis.

\*\*Pi√®ge :\*\* `\*.conf` ne capture pas les fichiers cach√©s.

