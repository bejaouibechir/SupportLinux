# Partie 1 ‚Äî Introduction & bases

---

## Exercice 1 : V√©rifier et activer le d√©mon `cron`

**1. Contexte & objectif**  
Avant d‚Äôutiliser CRON, il faut comprendre que c‚Äôest un service (`crond`) qui doit tourner en arri√®re-plan.  
Objectif : v√©rifier son √©tat, l‚Äôactiver si n√©cessaire et voir son processus.

**2. Pr√©paration**

- S‚Äôassurer que `cron` est install√© :
  
  ```bash
  sudo apt update
  sudo apt install cron -y
  ```

**3. √âtapes de l‚Äôexercice**

- **√âtape 1 :** V√©rifier l‚Äô√©tat du service :
  
  ```bash
  systemctl status cron
  ```
  
  üëâ Le candidat doit rep√©rer les lignes **Active: active (running)**.

- **√âtape 2 :** Si le service est inactif ‚Üí le d√©marrer :
  
  ```bash
  sudo systemctl start cron
  ```

- **√âtape 3 :** L‚Äôactiver pour qu‚Äôil d√©marre automatiquement :
  
  ```bash
  sudo systemctl enable cron
  ```

- **√âtape 4 :** V√©rifier que le processus tourne :
  
  ```bash
  ps aux | grep cron
  ```

**4. Nettoyage**  
Aucun (ce service doit rester pour les prochains exercices).

---

## Exercice 2 : Cr√©er un premier rapport automatis√©

**1. Contexte & objectif**  
On veut planifier une t√¢che tr√®s simple mais utile : g√©n√©rer un **rapport syst√®me** toutes les minutes.  
Le rapport doit contenir la date et l‚Äôutilisation m√©moire, ce qui rend le r√©sultat **observable et utile**.

**2. Pr√©paration**  
Cr√©er un script `~/rapport.sh` :

```bash
nano ~/rapport.sh
```

Contenu :

```bash
#!/bin/bash
echo "===== Rapport g√©n√©r√© le $(date) =====" >> ~/rapport.log
echo "Utilisation m√©moire :" >> ~/rapport.log
free -h >> ~/rapport.log
echo "" >> ~/rapport.log
```

Le rendre ex√©cutable :

```bash
chmod +x ~/rapport.sh
```

**3. √âtapes de l‚Äôexercice**

- **√âtape 1 :** √âditer la crontab utilisateur :
  
  ```bash
  crontab -e
  ```
  
  Ajouter :
  
  ```
  * * * * * ~/rapport.sh
  ```

- **√âtape 2 :** Attendre 2 minutes, puis v√©rifier le contenu du fichier :
  
  ```bash
  tail -n 10 ~/rapport.log
  ```

- **√âtape 3 :** V√©rifier aussi dans les journaux syst√®me que la t√¢che est pass√©e :
  
  ```bash
  grep CRON /var/log/syslog | tail -5
  ```

**4. Nettoyage**

```bash
crontab -r
rm ~/rapport.sh ~/rapport.log
```

---

## Exercice 3 : Observer la planification en direct

**1. Contexte & objectif**  
Montrer que CRON ex√©cute exactement √† la minute pr√©vue.  
Objectif : cr√©er une t√¢che qui √©crit un message pr√©cis et suivre son apparition en direct.

**2. Pr√©paration**  
Cr√©er un script `~/minute.sh` :

```bash
nano ~/minute.sh
```

Contenu :

```bash
#!/bin/bash
echo "T√¢che ex√©cut√©e √† $(date)" >> ~/minute.log
```

Rendre ex√©cutable :

```bash
chmod +x ~/minute.sh
```

**3. √âtapes de l‚Äôexercice**

- **√âtape 1 :** Planifier une ex√©cution toutes les minutes :
  
  ```bash
  crontab -e
  ```
  
  Ajouter :
  
  ```
  * * * * * ~/minute.sh
  ```

- **√âtape 2 :** Ouvrir un deuxi√®me terminal et suivre le fichier en temps r√©el :
  
  ```bash
  tail -f ~/minute.log
  ```

- **√âtape 3 :** Observer que chaque minute une nouvelle ligne appara√Æt.

**4. Nettoyage**

```bash
crontab -r
rm ~/minute.sh ~/minute.log
```

---

‚úÖ Ces 3 exercices posent les **bases fondamentales** :

- Comprendre que `cron` est un service.

- Savoir planifier une premi√®re t√¢che utile.

- Observer l‚Äôex√©cution en temps r√©el.
